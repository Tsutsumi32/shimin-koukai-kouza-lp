@use 'sass:math';
@use 'sass:meta';

@function strip-unit($value, $unit: null) {
  // 単位除去は math.div を使用
  $n: if(math.is-unitless($value), $value, math.div($value, ($value * 0 + 1)));

  @if $unit == null {
    @return $n;
  }

  // ここを meta.type-of に
  @if meta.type-of($unit) != 'number' or math.is-unitless($unit) {
    @error 'strip-unit(): The second argument must be a number with a unit, e.g. 1px, 1rem, or 1%.';
  }

  $unit-one: math.div($unit, strip-unit($unit));
  @return $n * $unit-one;
}
